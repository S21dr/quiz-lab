[{"D:\\freelance\\react\\quiz-lab\\src\\index.tsx":"1","D:\\freelance\\react\\quiz-lab\\src\\reportWebVitals.ts":"2","D:\\freelance\\react\\quiz-lab\\src\\App.tsx":"3","D:\\freelance\\react\\quiz-lab\\src\\store\\index.ts":"4","D:\\freelance\\react\\quiz-lab\\src\\store\\auth-reducer.ts":"5","D:\\freelance\\react\\quiz-lab\\src\\component\\MainLayout.tsx":"6","D:\\freelance\\react\\quiz-lab\\src\\component\\HeaderApp.tsx":"7","D:\\freelance\\react\\quiz-lab\\src\\component\\select\\index.ts":"8","D:\\freelance\\react\\quiz-lab\\src\\store\\lStorage.ts":"9","D:\\freelance\\react\\quiz-lab\\src\\component\\News.tsx":"10","D:\\freelance\\react\\quiz-lab\\src\\component\\Post.tsx":"11","D:\\freelance\\react\\quiz-lab\\src\\component\\NewPost.tsx":"12"},{"size":771,"mtime":1612700870255,"results":"13","hashOfConfig":"14"},{"size":425,"mtime":499162500000,"results":"15","hashOfConfig":"14"},{"size":378,"mtime":1612714155865,"results":"16","hashOfConfig":"14"},{"size":536,"mtime":1612707003364,"results":"17","hashOfConfig":"14"},{"size":917,"mtime":1612720929627,"results":"18","hashOfConfig":"14"},{"size":1933,"mtime":1612713774651,"results":"19","hashOfConfig":"14"},{"size":3304,"mtime":1612720320012,"results":"20","hashOfConfig":"14"},{"size":514,"mtime":1612721972184,"results":"21","hashOfConfig":"14"},{"size":2963,"mtime":1612723938210,"results":"22","hashOfConfig":"14"},{"size":1159,"mtime":1612723081631,"results":"23","hashOfConfig":"14"},{"size":428,"mtime":1612722058454,"results":"24","hashOfConfig":"14"},{"size":1742,"mtime":1612723385902,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"w0x5x",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"28"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\freelance\\react\\quiz-lab\\src\\index.tsx",[],["52","53"],"D:\\freelance\\react\\quiz-lab\\src\\reportWebVitals.ts",[],"D:\\freelance\\react\\quiz-lab\\src\\App.tsx",["54"],"D:\\freelance\\react\\quiz-lab\\src\\store\\index.ts",[],"D:\\freelance\\react\\quiz-lab\\src\\store\\auth-reducer.ts",[],"D:\\freelance\\react\\quiz-lab\\src\\component\\MainLayout.tsx",[],"D:\\freelance\\react\\quiz-lab\\src\\component\\HeaderApp.tsx",["55"],"import React, {useState} from 'react';\r\nimport {UserOutlined} from '@ant-design/icons';\r\nimport {Button, Input, Modal} from \"antd\";\r\nimport s from \"../style/header.module.scss\"\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getAuthorized, getModalLogin, getUsers} from \"./select\";\r\nimport {actionsAuth} from \"../store/auth-reducer\";\r\nimport {actionsLStorage, IUser} from \"../store/lStorage\";\r\n\r\nconst HeaderApp: React.FC = () => {\r\n    const dispatch = useDispatch()\r\n    const isModalVisible = useSelector(getModalLogin)\r\n    const authorized = useSelector(getAuthorized)\r\n    const users = useSelector(getUsers)\r\n    const handleCancel = () => {\r\n        dispatch(actionsAuth.setModalLogin(false))\r\n    }\r\n    const openModal = () => {\r\n        dispatch(actionsAuth.setModalLogin(true))\r\n    }\r\n\r\n    const [input, setInput] = useState('')\r\n    const changeInput = (e: { target: { value: React.SetStateAction<string>; }; }) => {\r\n        let str = e.target.value as string\r\n        str = str.trim()\r\n        setInput(str)\r\n    }\r\n    const login = ()=>{\r\n        const user:IUser={\r\n            id:Date.now(),\r\n            name:input\r\n        }\r\n        if (!users){\r\n            let newUsers = [user]\r\n            localStorage.setItem('users',JSON.stringify(newUsers) );\r\n            dispatch(actionsLStorage.setUser(newUsers))\r\n            localStorage.setItem('authorized',JSON.stringify(user) );\r\n            dispatch(actionsLStorage.setAuthorized(user))\r\n\r\n        }else {\r\n            let item =  users.find(el=>el.name == input)\r\n            if (!item){\r\n                localStorage.setItem('users',JSON.stringify([...users,user]) );\r\n                dispatch(actionsLStorage.setUser([...users,user]))\r\n                localStorage.setItem('authorized',JSON.stringify(user) );\r\n                dispatch(actionsLStorage.setAuthorized(user))\r\n\r\n            }else {\r\n                localStorage.setItem('authorized',JSON.stringify(item) );\r\n                dispatch(actionsLStorage.setAuthorized(item))\r\n\r\n            }\r\n        }\r\n        setInput('')\r\n        dispatch(actionsAuth.setModalLogin(false))\r\n    }\r\n    const logout = () =>{\r\n        localStorage.setItem('authorized',JSON.stringify({}) );\r\n        dispatch(actionsLStorage.setAuthorized(null ))\r\n    }\r\n    return (\r\n        <header className={s.header}>\r\n            <div>\r\n                <UserOutlined/>\r\n                {\r\n                    authorized?\r\n                        <>\r\n                            <span>{authorized.name}</span>\r\n                            <Button onClick={logout}  type={\"text\"}>Выйти</Button>\r\n                        </>\r\n                        :<>\r\n                            <Button onClick={openModal} type={\"text\"}>Войти</Button>\r\n                        </>\r\n                }\r\n\r\n\r\n            </div>\r\n            <Modal visible={isModalVisible} onCancel={handleCancel} footer={false}>\r\n                <h2>Введите имя:</h2>\r\n                <Input placeholder={'Имя'} className={s.input} value={input} onChange={changeInput} onPressEnter={login}/>\r\n                <Button onClick={login}   disabled={input.length<3} type={'primary'}>Продолжить</Button>\r\n            </Modal>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default HeaderApp;","D:\\freelance\\react\\quiz-lab\\src\\component\\select\\index.ts",[],"D:\\freelance\\react\\quiz-lab\\src\\store\\lStorage.ts",[],"D:\\freelance\\react\\quiz-lab\\src\\component\\News.tsx",[],"D:\\freelance\\react\\quiz-lab\\src\\component\\Post.tsx",[],"D:\\freelance\\react\\quiz-lab\\src\\component\\NewPost.tsx",["56"],{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","replacedBy":"60"},{"ruleId":"61","severity":1,"message":"62","line":2,"column":8,"nodeType":"63","messageId":"64","endLine":2,"endColumn":12},{"ruleId":"65","severity":1,"message":"66","line":43,"column":48,"nodeType":"67","messageId":"68","endLine":43,"endColumn":50},{"ruleId":"61","severity":1,"message":"69","line":2,"column":16,"nodeType":"63","messageId":"64","endLine":2,"endColumn":22},"no-native-reassign",["70"],"no-negated-in-lhs",["71"],"@typescript-eslint/no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'Button' is defined but never used.","no-global-assign","no-unsafe-negation"]